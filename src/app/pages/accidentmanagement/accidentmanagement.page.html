<ion-content class="ion-padding">
  <div class="title-holder flex al-center">
    <ion-back-button
      defaultHref="storeissue"
      mode="ios"
      text=""
    ></ion-back-button>
    <h2>Accident Management</h2>
    <div class="date-holder">
      <ion-item lines="none">
        <div class="thumb" slot="start">
          <ion-icon
            slot="icon-only"
            src="assets/imgs/icn-calender.svg"
          ></ion-icon>
        </div>
        <ion-datetime
          display-format="MMM DD YYYY hh:mm a"
          value="Sep 16 2020, 12:02 "
        ></ion-datetime>
      </ion-item>
    </div>
  </div>

  <div class="content">
    <div class="section">
      <div class="title">
        <h3>General Information</h3>
      </div>

      <div class="the-form">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Loss Control No.</ion-label>
                <ion-item lines="none">
                  <ion-input
                    disabled
                    [(ngModel)]="accidentManagement.LossControlNo"
                  ></ion-input>
                </ion-item>
              </div>
            </ion-col>
            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Date Record Opened</ion-label>
                <ion-item lines="none">
                  <ion-datetime
                    disabled
                    display-format="MMM DD YYYY hh:mm a"
                    [(ngModel)]="accidentManagement.DateOpen"
                  >
                  </ion-datetime>
                </ion-item>
              </div>
            </ion-col>
            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Date Record Closed</ion-label>
                <ion-item lines="none">
                  <ion-datetime
                    display-format="MMM DD YYYY hh:mm a"
                    [(ngModel)]="accidentManagement.DateClosed"
                  ></ion-datetime>
                </ion-item>
              </div>
            </ion-col>
            <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Agent</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.Agentguid"
                    [items]="agent"
                    itemValueField="StaffGuid"
                    itemTextField="StaffCode"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                    (onInfiniteScroll)="onAgentLeft()"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>
            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Registration</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.Itemguid"
                    [items]="registration"
                    itemValueField="ItemGuid"
                    itemTextField="Reg"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                    (onInfiniteScroll)="onRegistrationLeft()"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>
            <ion-col size="3.5" offset="0.5" class="flex al-end">
              <ion-button expand="block" id="btn">
                Make and Model Location
              </ion-button>
            </ion-col>
            <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Loss Type</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.LossTypeguid"
                    [items]="lossType"
                    itemValueField="ColourGuid"
                    itemTextField="Colour"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                    (onInfiniteScroll)="onAgentLeft()"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>
            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Loss Date</ion-label>
                <ion-item lines="none">
                  <ion-datetime
                    display-format="MMM DD YYYY hh:mm a"
                    [(ngModel)]="accidentManagement.LossDate"
                  ></ion-datetime>
                </ion-item>
              </div>
            </ion-col>
            <ion-col size="3.5" offset="0.5"> </ion-col>
            <ion-col size="11.5">
              <div class="item-input">
                <ion-label>Loss details/comments</ion-label>
                <ion-item lines="none">
                  <ion-textarea
                    rows="5"
                    [(ngModel)]="accidentManagement.LossDetails"
                  ></ion-textarea>
                </ion-item>
              </div>
            </ion-col>

            <!-- <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Reported</ion-label>
                <ion-item lines="none">
                  <ion-datetime
                    display-format="YYYY"
                    value="2020"
                  ></ion-datetime>
                </ion-item>
              </div>
            </ion-col> -->

            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Reported Date</ion-label>
                <ion-item lines="none">
                  <ion-datetime
                    display-format="MMM DD YYYY hh:mm a"
                    [(ngModel)]="accidentManagement.DateReported"
                  ></ion-datetime>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Reported By</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.Reportbyguid"
                    [items]="reportedBy"
                    itemValueField="StaffGuid"
                    itemTextField="StaffCode"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                    (onInfiniteScroll)="onRegistrationLeft()"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Driver's Name</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.DriverGuid"
                    [items]="driver"
                    itemValueField="StaffGuid"
                    itemTextField="StaffCode"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Driver ID</ion-label>
                <ion-item lines="none">
                  <ion-input
                    [(ngModel)]="accidentManagement.DriverID"
                  ></ion-input>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5" offset="0.5" class="flex al-end">
              <ion-button expand="block" id="btn">
                See Employee Number
              </ion-button>
            </ion-col>

            <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Trip Authority</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.TripAut"
                    [items]="yesNo"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Date reported to Police</ion-label>
                <ion-item lines="none">
                  <ion-datetime
                    display-format="MMM DD YYYY"
                    [(ngModel)]="accidentManagement.Policerepdate"
                  ></ion-datetime>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="1.5" offset="0.5">
              <div class="item-input">
                <ion-label>Police Station</ion-label>
                <ion-item lines="none">
                  <ion-input
                    [(ngModel)]="accidentManagement.PoliceStation"
                  ></ion-input>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="1.5" offset="0.5">
              <div class="item-input">
                <ion-label>Case Number</ion-label>
                <ion-item lines="none">
                  <ion-input
                    [(ngModel)]="accidentManagement.Casenumber"
                  ></ion-input>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="8">
              <ion-row>
                <ion-col size="5.5">
                  <div class="item-input">
                    <ion-label>Accident/Incident Report</ion-label>
                    <ion-item lines="none">
                      <ion-select multiple="false" placeholder="Please select">
                        <ion-select-option
                          *ngFor="let rep of accidentManagement.AccidentRep"
                          >{{rep}}</ion-select-option
                        >
                        >
                      </ion-select>
                    </ion-item>
                  </div>
                </ion-col>
                <ion-col size="5.5" offset="0.5">
                  <div class="item-input">
                    <ion-label>Date report received</ion-label>
                    <ion-item lines="none">
                      <ion-datetime
                        display-format="MMM DD YYYY hh:mm a"
                        [(ngModel)]="accidentManagement.AccRepDate"
                      ></ion-datetime>
                    </ion-item>
                  </div>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="5.5">
                  <div class="item-input">
                    <ion-label>Forefeiture</ion-label>
                    <ion-item>
                      <ionic-selectable
                        [(ngModel)]="accidentManagement.Forfeiture"
                        [items]="yesNo"
                        [canSearch]="true"
                        [hasInfiniteScroll]="true"
                      >
                      </ionic-selectable>
                    </ion-item>
                  </div>
                </ion-col>
                <ion-col size="5.5" offset="0.5">
                  <div class="item-input">
                    <ion-label>Determination of liability</ion-label>
                    <ion-item>
                      <ionic-selectable
                        [(ngModel)]="accidentManagement.Det_Liability"
                        [items]="yesNo"
                        [canSearch]="true"
                        [hasInfiniteScroll]="true"
                      >
                      </ionic-selectable>
                    </ion-item>
                  </div>
                </ion-col>
              </ion-row>
            </ion-col>

            <ion-col size="3.5">
              <ion-row>
                <ion-col size="12">
                  <div class="item-input">
                    <ion-label>Other Vehicle Party</ion-label>
                    <ion-item lines="none">
                      <ion-textarea
                        rows="7"
                        [(ngModel)]="accidentManagement.OtherVeh_Party"
                      ></ion-textarea>
                    </ion-item>
                  </div>
                </ion-col>
              </ion-row>
            </ion-col>

            <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Costing Document</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.Costingdocs"
                    [items]="yesNo"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Action Taken</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.LossContActguid"
                    [items]="agent"
                    itemValueField="ColourGuid"
                    itemTextField="Colour"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                    (onInfiniteScroll)="onAgentLeft()"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>Amount</ion-label>
                <ion-item lines="none" class="end">
                  <ion-input
                    type="text"
                    [(ngModel)]="accidentManagement.amount"
                  ></ion-input>
                  <div class="end-slot flex al-center jc-center" slot="end">
                    <p>R</p>
                  </div>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5">
              <div class="item-input">
                <ion-label>Amount Recovered</ion-label>
                <ion-item>
                  <ionic-selectable
                    [(ngModel)]="accidentManagement.AmountRec"
                    [items]="yesNo"
                    [canSearch]="true"
                    [hasInfiniteScroll]="true"
                  >
                  </ionic-selectable>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="3.5" offset="0.5">
              <div class="item-input">
                <ion-label>File Number </ion-label>
                <ion-item lines="none">
                  <ion-input
                    [(ngModel)]="accidentManagement.FileNumber"
                  ></ion-input>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="2.5" offset="1.5" class="flex al-end">
              <ion-button expand="block" id="btn" (click)="onMarkAsComplete()">
                Mark as Completed
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>
  </div>
</ion-content>
